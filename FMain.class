' Gambas class file

Private cancion As New Song("/home/camilo/1.mp3")


Public Sub Button1_Click()

  cancion.play

  tiempoCancion.Enabled = True
  
End

Public Sub Button2_Click()

  If cancion Then
  cancion.Stop
  progreso.Value = 0
  tiempoCancion.Enabled = False
  Endif
End

Public Sub Form_Close()

  If cancion Then cancion.Stop
  If cancion Then cancion.Kill
End

Public Sub tiempoCancion_Timer()
  If cancion Then 
    cancion.getPosition
    progreso.Value = (cancion.progress / 100) + 0.01
  Endif
  
 If (progreso.Value * 100) = 100 Then
   ' Cargar siguiente cancion del playlist
 Endif

End